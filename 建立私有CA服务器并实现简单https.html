<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>建立私有CA服务器并实现简单https</title>
</head>
<body>
<div id="wmd-preview" class="wmd-preview"><div class="md-section-divider"></div><div class="md-section-divider"></div><h1 data-anchor-id="efn8" id="建立私有ca服务器并实现简单https">建立私有CA服务器并实现简单https</h1><p data-anchor-id="ldwj"><strong>openssl配置文件</strong></p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="38ez" style=""><ol class="linenums"><li class="L0"><code><span class="pun">[</span><span class="pln">root@test_123</span><span class="pun">.</span><span class="lit">206.18</span><span class="pun">.</span><span class="lit">135</span><span class="pln"> </span><span class="pun">~]#</span><span class="pln">cat </span><span class="pun">/</span><span class="pln">etc</span><span class="pun">/</span><span class="pln">pki</span><span class="pun">/</span><span class="pln">tls</span><span class="pun">/</span><span class="pln">openssl</span><span class="pun">.</span><span class="pln">cnf</span></code></li><li class="L1"><code><span class="com">####################################################################</span></code></li><li class="L2"><code><span class="pun">[</span><span class="pln"> ca </span><span class="pun">]</span></code></li><li class="L3"><code><span class="pln">default_ca  </span><span class="pun">=</span><span class="pln"> CA_default        </span><span class="com"># The default ca section</span></code></li><li class="L4"><code></code></li><li class="L5"><code><span class="com">####################################################################</span></code></li><li class="L6"><code><span class="pun">[</span><span class="pln"> CA_default </span><span class="pun">]</span></code></li><li class="L7"><code></code></li><li class="L8"><code><span class="pln">dir     </span><span class="pun">=</span><span class="pln"> </span><span class="str">/etc/</span><span class="pln">pki</span><span class="pun">/</span><span class="pln">CA       </span><span class="com"># Where everything is kept</span></code></li><li class="L9"><code><span class="pln">certs       </span><span class="pun">=</span><span class="pln"> $dir</span><span class="pun">/</span><span class="pln">certs		</span><span class="com"># Where the issued certs are kept</span></code></li><li class="L0"><code><span class="pln">crl_dir		</span><span class="pun">=</span><span class="pln"> $dir</span><span class="pun">/</span><span class="pln">crl      </span><span class="com"># Where the issued crl are kept</span></code></li><li class="L1"><code><span class="pln">database    </span><span class="pun">=</span><span class="pln"> $dir</span><span class="pun">/</span><span class="pln">index</span><span class="pun">.</span><span class="pln">txt	</span><span class="com"># database index file.</span></code></li><li class="L2"><code><span class="com">#unique_subject	= no			# Set to 'no' to allow creation of</span></code></li><li class="L3"><code><span class="pln">					</span><span class="com"># several ctificates with same subject.</span></code></li><li class="L4"><code><span class="pln">new_certs_dir	</span><span class="pun">=</span><span class="pln"> $dir</span><span class="pun">/</span><span class="pln">newcerts     </span><span class="com"># default place for new certs.</span></code></li><li class="L5"><code></code></li><li class="L6"><code><span class="pln">certificate </span><span class="pun">=</span><span class="pln"> $dir</span><span class="pun">/</span><span class="pln">cacert</span><span class="pun">.</span><span class="pln">pem 	</span><span class="com"># The CA certificate</span></code></li><li class="L7"><code><span class="pln">serial		</span><span class="pun">=</span><span class="pln"> $dir</span><span class="pun">/</span><span class="pln">serial       </span><span class="com"># The current serial number</span></code></li><li class="L8"><code><span class="pln">crlnumber   </span><span class="pun">=</span><span class="pln"> $dir</span><span class="pun">/</span><span class="pln">crlnumber	</span><span class="com"># the current crl number</span></code></li><li class="L9"><code><span class="pln">					</span><span class="com"># must be commented out to leave a V1 CRL</span></code></li><li class="L0"><code><span class="pln">crl		</span><span class="pun">=</span><span class="pln"> $dir</span><span class="pun">/</span><span class="pln">crl</span><span class="pun">.</span><span class="pln">pem      </span><span class="com"># The current CRL</span></code></li><li class="L1"><code><span class="pln">private_key </span><span class="pun">=</span><span class="pln"> $dir</span><span class="pun">/</span><span class="kwd">private</span><span class="pun">/</span><span class="pln">cakey</span><span class="pun">.</span><span class="pln">pem</span><span class="com"># The private key</span></code></li><li class="L2"><code><span class="pln">RANDFILE	</span><span class="pun">=</span><span class="pln"> $dir</span><span class="pun">/</span><span class="kwd">private</span><span class="pun">/.</span><span class="pln">rand    </span><span class="com"># private random number file</span></code></li><li class="L3"><code></code></li><li class="L4"><code><span class="pln">x509_extensions </span><span class="pun">=</span><span class="pln"> usr_cert      </span><span class="com"># The extentions to add to the cert</span></code></li><li class="L5"><code></code></li><li class="L6"><code><span class="pln">default_days    </span><span class="pun">=</span><span class="pln"> </span><span class="lit">365</span><span class="pln">           </span><span class="com"># how long to certify for</span></code></li><li class="L7"><code><span class="pln">default_crl_days</span><span class="pun">=</span><span class="pln"> </span><span class="lit">30</span><span class="pln">            </span><span class="com"># how long before next CRL</span></code></li></ol></pre><p data-anchor-id="oi82"><strong>创建私有CA</strong></p><div class="md-section-divider"></div><h5 data-anchor-id="5wc2" id="1创建所需要的文件">1.创建所需要的文件</h5><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="hfrp" style=""><ol class="linenums"><li class="L0"><code><span class="pun">[</span><span class="pln">root@test_123</span><span class="pun">.</span><span class="lit">206.18</span><span class="pun">.</span><span class="lit">135</span><span class="pln"> </span><span class="pun">~]#</span><span class="pln">cd </span><span class="pun">/</span><span class="pln">etc</span><span class="pun">/</span><span class="pln">pki</span><span class="pun">/</span><span class="pln">CA</span><span class="pun">/</span></code></li><li class="L1"><code><span class="pun">[</span><span class="pln">root@test_123</span><span class="pun">.</span><span class="lit">206.18</span><span class="pun">.</span><span class="lit">135</span><span class="pln"> </span><span class="pun">/</span><span class="pln">etc</span><span class="pun">/</span><span class="pln">pki</span><span class="pun">/</span><span class="pln">CA</span><span class="pun">]#</span><span class="pln">touch index</span><span class="pun">.</span><span class="pln">txt</span></code></li><li class="L2"><code><span class="pun">[</span><span class="pln">root@test_123</span><span class="pun">.</span><span class="lit">206.18</span><span class="pun">.</span><span class="lit">135</span><span class="pln"> </span><span class="pun">/</span><span class="pln">etc</span><span class="pun">/</span><span class="pln">pki</span><span class="pun">/</span><span class="pln">CA</span><span class="pun">]#</span><span class="pln">echo </span><span class="lit">01</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> serial</span></code></li><li class="L3"><code><span class="pun">[</span><span class="pln">root@test_123</span><span class="pun">.</span><span class="lit">206.18</span><span class="pun">.</span><span class="lit">135</span><span class="pln"> </span><span class="pun">/</span><span class="pln">etc</span><span class="pun">/</span><span class="pln">pki</span><span class="pun">/</span><span class="pln">CA</span><span class="pun">]#</span><span class="pln">cat serial </span></code></li><li class="L4"><code><span class="lit">01</span></code></li></ol></pre><div class="md-section-divider"></div><h5 data-anchor-id="klcu" id="2ca自签证书">2.CA自签证书</h5><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="9lsr" style=""><ol class="linenums"><li class="L0"><code><span class="pun">[</span><span class="pln">root@test_123</span><span class="pun">.</span><span class="lit">206.18</span><span class="pun">.</span><span class="lit">135</span><span class="pln"> </span><span class="pun">/</span><span class="pln">etc</span><span class="pun">/</span><span class="pln">pki</span><span class="pun">/</span><span class="pln">CA</span><span class="pun">]#(</span><span class="pln">umask </span><span class="lit">077</span><span class="pun">;</span><span class="pln">openssl genrsa </span><span class="pun">-</span><span class="kwd">out</span><span class="pln"> </span><span class="pun">./</span><span class="kwd">private</span><span class="pun">/</span><span class="pln">cakey</span><span class="pun">.</span><span class="pln">pem </span><span class="lit">2048</span><span class="pun">)</span></code></li><li class="L1"><code><span class="typ">Generating</span><span class="pln"> RSA </span><span class="kwd">private</span><span class="pln"> key</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2048</span><span class="pln"> bit </span><span class="kwd">long</span><span class="pln"> modulus</span></code></li><li class="L2"><code><span class="pun">...............................................................................................................+++</span></code></li><li class="L3"><code><span class="pun">....................+++</span></code></li><li class="L4"><code><span class="pln">e </span><span class="kwd">is</span><span class="pln"> </span><span class="lit">65537</span><span class="pln"> </span><span class="pun">(</span><span class="lit">0x10001</span><span class="pun">)</span></code></li><li class="L5"><code><span class="pun">[</span><span class="pln">root@test_123</span><span class="pun">.</span><span class="lit">206.18</span><span class="pun">.</span><span class="lit">135</span><span class="pln"> </span><span class="pun">/</span><span class="pln">etc</span><span class="pun">/</span><span class="pln">pki</span><span class="pun">/</span><span class="pln">CA</span><span class="pun">]#</span><span class="pln">cat </span><span class="pun">./</span><span class="kwd">private</span><span class="pun">/</span><span class="pln">cakey</span><span class="pun">.</span><span class="pln">pem</span></code></li><li class="L6"><code><span class="pun">-----</span><span class="kwd">BEGIN</span><span class="pln"> RSA PRIVATE KEY</span><span class="pun">-----</span></code></li><li class="L7"><code><span class="typ">MIIEowIBAAKCAQEAvj4mJ5UaPh9Zjkq</span><span class="pun">+</span><span class="pln">pdAsZMWTCDxeHng9NgRZiZx5od6t9zMc</span></code></li><li class="L8"><code><span class="typ">BtqjeedsoJcb29tgix</span><span class="pun">/</span><span class="lit">07IOp6kI6qz9i99</span><span class="pun">/</span><span class="lit">79Os0nUbmE8dV4pDMAymiQoB0aGJp</span></code></li><li class="L9"><code><span class="pln">S0ZwZGMrPo7VVLYuNZ4HopyUAqU</span><span class="pun">/</span><span class="pln">XIL9NXqsn2hmcmiCVjqy7prrEY</span><span class="pun">/</span><span class="pln">qHA6yGCeW</span></code></li><li class="L0"><code><span class="pln">A50ui6GUPAf75S6Bio</span><span class="pun">+</span><span class="pln">KXA2HmrPnT3xbn4T</span><span class="pun">/</span><span class="typ">Iw0Uil7PcBtikjzKYF4QVK3SFU9Z</span></code></li><li class="L1"><code><span class="typ">DWzjqmH9GwEhRScg3taJL6xHAcIMaTHUg4bHnlt5X5DO6cfUlu7F9kn7AJI</span><span class="pun">/</span><span class="pln">eRWI</span></code></li><li class="L2"><code><span class="typ">LoG9WZjLPnGy7pEk1LrSRydM53pe2Py</span><span class="pun">+</span><span class="typ">Sjnh4QIDAQABAoIBAQCWY8sFv3jfYykI</span></code></li><li class="L3"><code><span class="pln">s03DBq4Re56gBBjjPWomKYoenvQIYmBj6qNdR7mzxJ661LnRM7s</span><span class="pun">+</span><span class="pln">QCT</span><span class="pun">+</span><span class="pln">U5ce</span><span class="pun">+</span><span class="typ">Pwo</span></code></li><li class="L4"><code><span class="pln">JBO4n</span><span class="pun">/</span><span class="pln">gtxUHykvmO6SWb1ZtxZJhAugtL</span><span class="pun">+</span><span class="typ">YADYcu3kC2</span><span class="pun">/</span><span class="typ">Zmp</span><span class="pun">+</span><span class="pln">bQZanHKsudrHvJo6</span></code></li><li class="L5"><code><span class="pln">J9LDVBbibUWPa86dHAoXVaA</span><span class="pun">+</span><span class="typ">YeZQBm46wDnHfmujthKx4tq3qqQhLhC</span><span class="pun">+</span><span class="typ">HFuMF27H</span></code></li><li class="L6"><code><span class="pln">N</span><span class="pun">+</span><span class="typ">FzbeFyS</span><span class="pun">+</span><span class="pln">sd9if1Zqdx</span><span class="pun">/</span><span class="pln">tbs9Qh9N9w</span><span class="pun">+</span><span class="lit">3vwqMef8KnCFRu3kHgqFy2dYC40ck5tR</span></code></li><li class="L7"><code><span class="pln">J</span><span class="pun">/</span><span class="typ">Zx3ebUxsJpk6</span><span class="pun">+</span><span class="pln">swxyK4rX0R9</span><span class="pun">/</span><span class="pln">wQHwiQs7TbCXUdWQL7xYpi92NHwoiV7IJt0qY</span></code></li><li class="L8"><code><span class="typ">FDo8rhGBAoGBAPraH</span><span class="pun">+</span><span class="pln">qwmWr1DQ2WLQWhobU0E3lVnLEZXziFVNHJy4wFnWzC6I5o</span></code></li><li class="L9"><code><span class="typ">BdgNg8aosO</span><span class="pun">++</span><span class="typ">AofaqoeXjskfufHIyCsPr9</span><span class="pun">+</span><span class="lit">26</span><span class="pun">+</span><span class="typ">DobokesQ4JirV8</span><span class="pun">+</span><span class="typ">YwVWWxSzL6J</span></code></li><li class="L0"><code><span class="pun">+</span><span class="typ">WnklZTawVtpSgkkEZQL6UzpXnDPM2vhoNoWFxTHwibrUI6yvFGWjMi</span><span class="pun">/</span><span class="typ">AoGBAMIl</span></code></li><li class="L1"><code><span class="pln">m5H8j3MX6m8MXsYQSrlOA6WZloCaYOIvotS6nBgJIWXLF6rqmeewVVp35Nanvpz5</span></code></li><li class="L2"><code><span class="pln">C</span><span class="pun">/</span><span class="pln">A</span><span class="pun">/</span><span class="pln">uGF4EKiTQMXtTZiUHz9Eniu953KR62R4xgjYAINnGkYiNDOZ19f4mXFMzewo</span></code></li><li class="L3"><code><span class="pln">vxYFhprP6mFiqDWJDfvgViU4Eqp8CcWjLJGecl1fAoGAaVM</span><span class="pun">+</span><span class="pln">hW7i67q6YVMF0lB8</span></code></li><li class="L4"><code><span class="typ">MjYMWyysHtv1VCj</span><span class="pun">/</span><span class="typ">ZRpigYc2Ax2PQYPBuGZsRvQ7Xl4cd</span><span class="pun">+</span><span class="pln">hDI61qAV5112QjT5lF</span></code></li><li class="L5"><code><span class="pln">khwezA8roh0l4Cv3dp5jtQKdylK1rucFtwWIHLkA6J27vTzMuKmLqoRt59XH1Gsm</span></code></li><li class="L6"><code><span class="pun">+</span><span class="lit">4q85De</span><span class="pun">/</span><span class="pln">eFHjQBch5OvebscCgYA5EtkzB24cRZGTZ62MyElPRFHqIsaNs9R7acmS</span></code></li><li class="L7"><code><span class="pln">g</span><span class="pun">/</span><span class="pln">FTV4vL4vJoOmNYKwxMdiZ9u</span><span class="pun">/</span><span class="lit">5bIxORYwoPDT7Ib9GA3gwLqK</span><span class="pun">+</span><span class="pln">u57sf3MnncmIi</span></code></li><li class="L8"><code><span class="pln">vSZqfyVXe73LlE6IRNehE</span><span class="pun">+</span><span class="pln">H33r5CiI</span><span class="pun">/</span><span class="lit">0J1e0tx6N1nTgmBPWUdLBSkSifahZw2hc</span></code></li><li class="L9"><code><span class="pln">vpmcPQKBgFVqJvYBcpj7BFWxuVDVuY8p7NVKHw0KIb8he0Bpr1zNWjGs714urLUw</span></code></li><li class="L0"><code><span class="pln">hStCI9BiDDfQuFMNkKYGz5ksaMbrWwuic9eDvDoS2vMGY3w9EkJZKUusVeMppgmh</span></code></li><li class="L1"><code><span class="typ">Nlf5xbfHnfGIP1z6GaEO</span><span class="pun">+</span><span class="pln">xjtOosKl19ihIiEmlgMC3iyTBP5W4Xs</span></code></li><li class="L2"><code><span class="pun">-----</span><span class="kwd">END</span><span class="pln"> RSA PRIVATE KEY</span><span class="pun">-----</span></code></li><li class="L3"><code><span class="pun">[</span><span class="pln">root@test_123</span><span class="pun">.</span><span class="lit">206.18</span><span class="pun">.</span><span class="lit">135</span><span class="pln"> </span><span class="pun">/</span><span class="pln">etc</span><span class="pun">/</span><span class="pln">pki</span><span class="pun">/</span><span class="pln">CA</span><span class="pun">]#</span></code></li><li class="L4"><code><span class="pun">[</span><span class="pln">root@test_123</span><span class="pun">.</span><span class="lit">206.18</span><span class="pun">.</span><span class="lit">135</span><span class="pln"> </span><span class="pun">/</span><span class="pln">etc</span><span class="pun">/</span><span class="pln">pki</span><span class="pun">/</span><span class="pln">CA</span><span class="pun">]#</span><span class="pln">openssl req </span><span class="pun">-</span><span class="kwd">new</span><span class="pln"> </span><span class="pun">-</span><span class="pln">x509 </span><span class="pun">-</span><span class="pln">key </span><span class="kwd">private</span><span class="pun">/</span><span class="pln">cakey</span><span class="pun">.</span><span class="pln">pem </span><span class="pun">-</span><span class="pln">days </span><span class="lit">365</span><span class="pln"> </span><span class="pun">-</span><span class="kwd">out</span><span class="pln"> cacert</span><span class="pun">.</span><span class="pln">pem</span></code></li><li class="L5"><code><span class="typ">You</span><span class="pln"> are about to be asked to enter information that will be incorporated</span></code></li><li class="L6"><code><span class="kwd">into</span><span class="pln"> your certificate request</span><span class="pun">.</span></code></li><li class="L7"><code><span class="typ">What</span><span class="pln"> you are about to enter </span><span class="kwd">is</span><span class="pln"> what </span><span class="kwd">is</span><span class="pln"> called a </span><span class="typ">Distinguished</span><span class="pln"> </span><span class="typ">Name</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> a DN</span><span class="pun">.</span></code></li><li class="L8"><code><span class="typ">There</span><span class="pln"> are quite a few fields but you can leave some blank</span></code></li><li class="L9"><code><span class="typ">For</span><span class="pln"> some fields there will be a </span><span class="kwd">default</span><span class="pln"> value</span><span class="pun">,</span></code></li><li class="L0"><code><span class="typ">If</span><span class="pln"> you enter </span><span class="str">'.'</span><span class="pun">,</span><span class="pln"> the field will be left blank</span><span class="pun">.</span></code></li><li class="L1"><code><span class="pun">-----</span></code></li><li class="L2"><code><span class="typ">Country</span><span class="pln"> </span><span class="typ">Name</span><span class="pln"> </span><span class="pun">(</span><span class="lit">2</span><span class="pln"> letter code</span><span class="pun">)</span><span class="pln"> </span><span class="pun">[</span><span class="pln">XX</span><span class="pun">]:</span><span class="pln">CN</span></code></li><li class="L3"><code><span class="typ">State</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="typ">Province</span><span class="pln"> </span><span class="typ">Name</span><span class="pln"> </span><span class="pun">(</span><span class="pln">full name</span><span class="pun">)</span><span class="pln"> </span><span class="pun">[]:</span><span class="typ">Beijing</span><span class="pln"> </span></code></li><li class="L4"><code><span class="typ">Locality</span><span class="pln"> </span><span class="typ">Name</span><span class="pln"> </span><span class="pun">(</span><span class="pln">eg</span><span class="pun">,</span><span class="pln"> city</span><span class="pun">)</span><span class="pln"> </span><span class="pun">[</span><span class="typ">Default</span><span class="pln"> </span><span class="typ">City</span><span class="pun">]:</span><span class="typ">Beijing</span></code></li><li class="L5"><code><span class="typ">Organization</span><span class="pln"> </span><span class="typ">Name</span><span class="pln"> </span><span class="pun">(</span><span class="pln">eg</span><span class="pun">,</span><span class="pln"> company</span><span class="pun">)</span><span class="pln"> </span><span class="pun">[</span><span class="typ">Default</span><span class="pln"> </span><span class="typ">Company</span><span class="pln"> </span><span class="typ">Ltd</span><span class="pun">]:</span><span class="pln">isurecloud</span></code></li><li class="L6"><code><span class="typ">Organizational</span><span class="pln"> </span><span class="typ">Unit</span><span class="pln"> </span><span class="typ">Name</span><span class="pln"> </span><span class="pun">(</span><span class="pln">eg</span><span class="pun">,</span><span class="pln"> section</span><span class="pun">)</span><span class="pln"> </span><span class="pun">[]:</span><span class="pln">ops</span></code></li><li class="L7"><code><span class="typ">Common</span><span class="pln"> </span><span class="typ">Name</span><span class="pln"> </span><span class="pun">(</span><span class="pln">eg</span><span class="pun">,</span><span class="pln"> your name </span><span class="kwd">or</span><span class="pln"> your server</span><span class="str">'s hostname) []:ca.isurecloud.com</span></code></li><li class="L8"><code><span class="str">Email Address []:ca@isurecloud.com</span></code></li></ol></pre><p data-anchor-id="69nj"><strong>节点申请证书</strong></p><div class="md-section-divider"></div><h5 data-anchor-id="l8p7" id="1安装nginx">1.安装nginx</h5><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="a855" style=""><ol class="linenums"><li class="L0"><code><span class="pun">[</span><span class="pln">root@cache </span><span class="pun">~]#</span><span class="pln"> yum install nginx </span><span class="pun">-</span><span class="pln">y</span></code></li></ol></pre><div class="md-section-divider"></div><h5 data-anchor-id="wfq5" id="2建立证书存放目录">2.建立证书存放目录</h5><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="tihd" style=""><ol class="linenums"><li class="L0"><code><span class="pun">[</span><span class="pln">root@cache </span><span class="pun">~]#</span><span class="pln"> mkdir </span><span class="pun">/</span><span class="pln">etc</span><span class="pun">/</span><span class="pln">nginx</span><span class="pun">/</span><span class="pln">ssl</span></code></li></ol></pre><div class="md-section-divider"></div><h5 data-anchor-id="3nr7" id="3生成密钥对">3.生成密钥对</h5><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="jc0s" style=""><ol class="linenums"><li class="L0"><code><span class="pun">[</span><span class="pln">root@cache ssl</span><span class="pun">]#</span><span class="pln"> </span><span class="pun">(</span><span class="pln">umask </span><span class="lit">077</span><span class="pun">;</span><span class="pln">openssl genrsa </span><span class="pun">-</span><span class="kwd">out</span><span class="pln"> cache</span><span class="pun">.</span><span class="pln">key </span><span class="lit">2048</span><span class="pun">)</span></code></li></ol></pre><div class="md-section-divider"></div><h5 data-anchor-id="7hrg" id="4生成证书签署请求">4.生成证书签署请求</h5><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="11j0" style=""><ol class="linenums"><li class="L0"><code><span class="pun">[</span><span class="pln">root@cache ssl</span><span class="pun">]#</span><span class="pln"> openssl req </span><span class="pun">-</span><span class="kwd">new</span><span class="pln"> </span><span class="pun">-</span><span class="pln">key cache</span><span class="pun">.</span><span class="pln">key </span><span class="pun">-</span><span class="kwd">out</span><span class="pln"> cache</span><span class="pun">.</span><span class="pln">csr</span></code></li><li class="L1"><code><span class="typ">You</span><span class="pln"> are about to be asked to enter information that will be incorporated</span></code></li><li class="L2"><code><span class="kwd">into</span><span class="pln"> your certificate request</span><span class="pun">.</span></code></li><li class="L3"><code><span class="typ">What</span><span class="pln"> you are about to enter </span><span class="kwd">is</span><span class="pln"> what </span><span class="kwd">is</span><span class="pln"> called a </span><span class="typ">Distinguished</span><span class="pln"> </span><span class="typ">Name</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> a DN</span><span class="pun">.</span></code></li><li class="L4"><code><span class="typ">There</span><span class="pln"> are quite a few fields but you can leave some blank</span></code></li><li class="L5"><code><span class="typ">For</span><span class="pln"> some fields there will be a </span><span class="kwd">default</span><span class="pln"> value</span><span class="pun">,</span></code></li><li class="L6"><code><span class="typ">If</span><span class="pln"> you enter </span><span class="str">'.'</span><span class="pun">,</span><span class="pln"> the field will be left blank</span><span class="pun">.</span></code></li><li class="L7"><code><span class="pun">-----</span></code></li><li class="L8"><code><span class="typ">Country</span><span class="pln"> </span><span class="typ">Name</span><span class="pln"> </span><span class="pun">(</span><span class="lit">2</span><span class="pln"> letter code</span><span class="pun">)</span><span class="pln"> </span><span class="pun">[</span><span class="pln">XX</span><span class="pun">]:</span><span class="pln">CN</span></code></li><li class="L9"><code><span class="typ">State</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="typ">Province</span><span class="pln"> </span><span class="typ">Name</span><span class="pln"> </span><span class="pun">(</span><span class="pln">full name</span><span class="pun">)</span><span class="pln"> </span><span class="pun">[]:</span><span class="typ">Beijing</span></code></li><li class="L0"><code><span class="typ">Locality</span><span class="pln"> </span><span class="typ">Name</span><span class="pln"> </span><span class="pun">(</span><span class="pln">eg</span><span class="pun">,</span><span class="pln"> city</span><span class="pun">)</span><span class="pln"> </span><span class="pun">[</span><span class="typ">Default</span><span class="pln"> </span><span class="typ">City</span><span class="pun">]:</span><span class="typ">Beijing</span></code></li><li class="L1"><code><span class="typ">Organization</span><span class="pln"> </span><span class="typ">Name</span><span class="pln"> </span><span class="pun">(</span><span class="pln">eg</span><span class="pun">,</span><span class="pln"> company</span><span class="pun">)</span><span class="pln"> </span><span class="pun">[</span><span class="typ">Default</span><span class="pln"> </span><span class="typ">Company</span><span class="pln"> </span><span class="typ">Ltd</span><span class="pun">]:</span><span class="pln">isurecloud</span></code></li><li class="L2"><code><span class="typ">Organizational</span><span class="pln"> </span><span class="typ">Unit</span><span class="pln"> </span><span class="typ">Name</span><span class="pln"> </span><span class="pun">(</span><span class="pln">eg</span><span class="pun">,</span><span class="pln"> section</span><span class="pun">)</span><span class="pln"> </span><span class="pun">[]:</span><span class="pln">ops</span></code></li><li class="L3"><code><span class="typ">Common</span><span class="pln"> </span><span class="typ">Name</span><span class="pln"> </span><span class="pun">(</span><span class="pln">eg</span><span class="pun">,</span><span class="pln"> your name </span><span class="kwd">or</span><span class="pln"> your server</span><span class="str">'s hostname) []:cache.isurecloud.com</span></code></li><li class="L4"><code><span class="str">Email Address []:cache@isurecloud.com</span></code></li><li class="L5"><code></code></li><li class="L6"><code><span class="str">Please enter the following '</span><span class="pln">extra</span><span class="str">' attributes</span></code></li><li class="L7"><code><span class="str">to be sent with your certificate request</span></code></li><li class="L8"><code><span class="str">A challenge password []:</span></code></li><li class="L9"><code><span class="str">An optional company name []:</span></code></li></ol></pre><div class="md-section-divider"></div><h5 data-anchor-id="jil3" id="5将签署请求文件发送给ca服务器">5.将签署请求文件发送给CA服务器</h5><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="64sk" style=""><ol class="linenums"><li class="L0"><code><span class="pun">[</span><span class="pln">root@cache ssl</span><span class="pun">]#</span><span class="pln"> scp cache</span><span class="pun">.</span><span class="pln">csr root@123</span><span class="pun">.</span><span class="lit">206.18</span><span class="pun">.</span><span class="lit">135</span><span class="pun">:</span><span class="str">/tmp/</span></code></li><li class="L1"><code><span class="typ">The</span><span class="pln"> authenticity of host </span><span class="str">'123.206.18.135 (123.206.18.135)'</span><span class="pln"> can</span><span class="str">'t be established.</span></code></li><li class="L2"><code><span class="str">ECDSA key fingerprint is b9:2f:9c:97:91:66:b4:4b:2a:89:5d:28:f3:06:06:2d.</span></code></li><li class="L3"><code><span class="str">Are you sure you want to continue connecting (yes/no)? yes</span></code></li><li class="L4"><code><span class="str">Warning: Permanently added '</span><span class="lit">123.206</span><span class="pun">.</span><span class="lit">18.135</span><span class="str">' (ECDSA) to the list of known hosts.</span></code></li><li class="L5"><code><span class="str">root@123.206.18.135'</span><span class="pln">s password</span><span class="pun">:</span><span class="pln"> </span></code></li><li class="L6"><code><span class="pln">cache</span><span class="pun">.</span><span class="pln">csr                                         </span><span class="lit">100</span><span class="pun">%</span><span class="pln"> </span><span class="lit">1070</span><span class="pln">     </span><span class="lit">1.0KB</span><span class="pun">/</span><span class="pln">s   </span><span class="lit">00</span><span class="pun">:</span><span class="lit">00</span><span class="pln">    </span></code></li></ol></pre><div class="md-section-divider"></div><h5 data-anchor-id="0ci4" id="6ca服务器签署证书">6.CA服务器签署证书</h5><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="jdlx" style=""><ol class="linenums"><li class="L0"><code><span class="pun">[</span><span class="pln">root@test_123</span><span class="pun">.</span><span class="lit">206.18</span><span class="pun">.</span><span class="lit">135</span><span class="pln"> </span><span class="pun">~]#</span><span class="pln"> openssl ca </span><span class="pun">-</span><span class="kwd">in</span><span class="pln"> </span><span class="pun">/</span><span class="pln">tmp</span><span class="pun">/</span><span class="pln">cache</span><span class="pun">.</span><span class="pln">csr </span><span class="pun">-</span><span class="kwd">out</span><span class="pln"> </span><span class="pun">/</span><span class="pln">etc</span><span class="pun">/</span><span class="pln">pki</span><span class="pun">/</span><span class="pln">CA</span><span class="pun">/</span><span class="pln">certs</span><span class="pun">/</span><span class="pln">cache</span><span class="pun">.</span><span class="pln">crt </span><span class="pun">-</span><span class="pln">days </span><span class="lit">365</span></code></li><li class="L1"><code><span class="typ">Using</span><span class="pln"> configuration </span><span class="kwd">from</span><span class="pln"> </span><span class="pun">/</span><span class="pln">etc</span><span class="pun">/</span><span class="pln">pki</span><span class="pun">/</span><span class="pln">tls</span><span class="pun">/</span><span class="pln">openssl</span><span class="pun">.</span><span class="pln">cnf</span></code></li><li class="L2"><code><span class="typ">Check</span><span class="pln"> that the request matches the signature</span></code></li><li class="L3"><code><span class="typ">Signature</span><span class="pln"> ok</span></code></li><li class="L4"><code><span class="typ">Certificate</span><span class="pln"> </span><span class="typ">Details</span><span class="pun">:</span></code></li><li class="L5"><code><span class="pln">        </span><span class="typ">Serial</span><span class="pln"> </span><span class="typ">Number</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">(</span><span class="lit">0x1</span><span class="pun">)</span></code></li><li class="L6"><code><span class="pln">        </span><span class="typ">Validity</span></code></li><li class="L7"><code><span class="pln">            </span><span class="typ">Not</span><span class="pln"> </span><span class="typ">Before</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Oct</span><span class="pln"> </span><span class="lit">15</span><span class="pln"> </span><span class="lit">11</span><span class="pun">:</span><span class="lit">11</span><span class="pun">:</span><span class="lit">59</span><span class="pln"> </span><span class="lit">2017</span><span class="pln"> GMT</span></code></li><li class="L8"><code><span class="pln">            </span><span class="typ">Not</span><span class="pln"> </span><span class="typ">After</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="typ">Oct</span><span class="pln"> </span><span class="lit">15</span><span class="pln"> </span><span class="lit">11</span><span class="pun">:</span><span class="lit">11</span><span class="pun">:</span><span class="lit">59</span><span class="pln"> </span><span class="lit">2018</span><span class="pln"> GMT</span></code></li><li class="L9"><code><span class="pln">        </span><span class="typ">Subject</span><span class="pun">:</span></code></li><li class="L0"><code><span class="pln">            countryName               </span><span class="pun">=</span><span class="pln"> CN</span></code></li><li class="L1"><code><span class="pln">            stateOrProvinceName       </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Beijing</span></code></li><li class="L2"><code><span class="pln">            organizationName          </span><span class="pun">=</span><span class="pln"> isurecloud</span></code></li><li class="L3"><code><span class="pln">            organizationalUnitName    </span><span class="pun">=</span><span class="pln"> ops</span></code></li><li class="L4"><code><span class="pln">            commonName                </span><span class="pun">=</span><span class="pln"> cache</span><span class="pun">.</span><span class="pln">isurecloud</span><span class="pun">.</span><span class="pln">com</span></code></li><li class="L5"><code><span class="pln">            emailAddress              </span><span class="pun">=</span><span class="pln"> cache@isurecloud</span><span class="pun">.</span><span class="pln">com</span></code></li><li class="L6"><code><span class="pln">        X509v3 extensions</span><span class="pun">:</span></code></li><li class="L7"><code><span class="pln">            X509v3 </span><span class="typ">Basic</span><span class="pln"> </span><span class="typ">Constraints</span><span class="pun">:</span></code></li><li class="L8"><code><span class="pln">                CA</span><span class="pun">:</span><span class="pln">FALSE</span></code></li><li class="L9"><code><span class="pln">            </span><span class="typ">Netscape</span><span class="pln"> </span><span class="typ">Comment</span><span class="pun">:</span></code></li><li class="L0"><code><span class="pln">                </span><span class="typ">OpenSSL</span><span class="pln"> </span><span class="typ">Generated</span><span class="pln"> </span><span class="typ">Certificate</span></code></li><li class="L1"><code><span class="pln">            X509v3 </span><span class="typ">Subject</span><span class="pln"> </span><span class="typ">Key</span><span class="pln"> </span><span class="typ">Identifier</span><span class="pun">:</span></code></li><li class="L2"><code><span class="pln">                </span><span class="lit">07</span><span class="pun">:</span><span class="lit">04</span><span class="pun">:</span><span class="lit">5D</span><span class="pun">:</span><span class="lit">8B</span><span class="pun">:</span><span class="lit">00</span><span class="pun">:</span><span class="pln">B5</span><span class="pun">:</span><span class="pln">FA</span><span class="pun">:</span><span class="lit">2C</span><span class="pun">:</span><span class="pln">DE</span><span class="pun">:</span><span class="lit">36</span><span class="pun">:</span><span class="lit">5E</span><span class="pun">:</span><span class="pln">DC</span><span class="pun">:</span><span class="pln">F5</span><span class="pun">:</span><span class="pln">EE</span><span class="pun">:</span><span class="lit">8A</span><span class="pun">:</span><span class="lit">1D</span><span class="pun">:</span><span class="lit">60</span><span class="pun">:</span><span class="lit">06</span><span class="pun">:</span><span class="lit">18</span><span class="pun">:</span><span class="pln">FB</span></code></li><li class="L3"><code><span class="pln">            X509v3 </span><span class="typ">Authority</span><span class="pln"> </span><span class="typ">Key</span><span class="pln"> </span><span class="typ">Identifier</span><span class="pun">:</span></code></li><li class="L4"><code><span class="pln">                keyid</span><span class="pun">:</span><span class="pln">DA</span><span class="pun">:</span><span class="lit">36</span><span class="pun">:</span><span class="lit">19</span><span class="pun">:</span><span class="lit">12</span><span class="pun">:</span><span class="lit">0B</span><span class="pun">:</span><span class="lit">64</span><span class="pun">:</span><span class="lit">0C</span><span class="pun">:</span><span class="pln">C8</span><span class="pun">:</span><span class="pln">EF</span><span class="pun">:</span><span class="pln">BA</span><span class="pun">:</span><span class="pln">E5</span><span class="pun">:</span><span class="lit">11</span><span class="pun">:</span><span class="pln">FF</span><span class="pun">:</span><span class="lit">1E</span><span class="pun">:</span><span class="lit">41</span><span class="pun">:</span><span class="lit">55</span><span class="pun">:</span><span class="lit">05</span><span class="pun">:</span><span class="pln">BF</span><span class="pun">:</span><span class="lit">5B</span><span class="pun">:</span><span class="lit">4E</span></code></li><li class="L5"><code></code></li><li class="L6"><code><span class="typ">Certificate</span><span class="pln"> </span><span class="kwd">is</span><span class="pln"> to be certified </span><span class="kwd">until</span><span class="pln"> </span><span class="typ">Oct</span><span class="pln"> </span><span class="lit">15</span><span class="pln"> </span><span class="lit">11</span><span class="pun">:</span><span class="lit">11</span><span class="pun">:</span><span class="lit">59</span><span class="pln"> </span><span class="lit">2018</span><span class="pln"> GMT </span><span class="pun">(</span><span class="lit">365</span><span class="pln"> days</span><span class="pun">)</span></code></li><li class="L7"><code><span class="typ">Sign</span><span class="pln"> the certificate</span><span class="pun">?</span><span class="pln"> </span><span class="pun">[</span><span class="pln">y</span><span class="pun">/</span><span class="pln">n</span><span class="pun">]:</span><span class="pln">y</span></code></li><li class="L8"><code></code></li><li class="L9"><code></code></li><li class="L0"><code><span class="lit">1</span><span class="pln"> </span><span class="kwd">out</span><span class="pln"> of </span><span class="lit">1</span><span class="pln"> certificate requests certified</span><span class="pun">,</span><span class="pln"> commit</span><span class="pun">?</span><span class="pln"> </span><span class="pun">[</span><span class="pln">y</span><span class="pun">/</span><span class="pln">n</span><span class="pun">]</span><span class="pln">y</span></code></li><li class="L1"><code><span class="typ">Write</span><span class="pln"> </span><span class="kwd">out</span><span class="pln"> database </span><span class="kwd">with</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> entries</span></code></li><li class="L2"><code><span class="typ">Data</span><span class="pln"> </span><span class="typ">Base</span><span class="pln"> </span><span class="typ">Updated</span></code></li></ol></pre><div class="md-section-divider"></div><h5 data-anchor-id="t19z" id="7删除csr请求文件并将签署后的证书文件发给节点">7.删除csr请求文件，并将签署后的证书文件发给节点</h5><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="4gzp" style=""><ol class="linenums"><li class="L0"><code><span class="pun">[</span><span class="pln">root@test_123</span><span class="pun">.</span><span class="lit">206.18</span><span class="pun">.</span><span class="lit">135</span><span class="pln"> </span><span class="pun">~]#</span><span class="pln"> rm </span><span class="pun">-</span><span class="pln">f </span><span class="pun">/</span><span class="pln">tmp</span><span class="pun">/</span><span class="pln">cache</span><span class="pun">.</span><span class="pln">csr</span></code></li><li class="L1"><code><span class="pun">[</span><span class="pln">root@test_123</span><span class="pun">.</span><span class="lit">206.18</span><span class="pun">.</span><span class="lit">135</span><span class="pln"> </span><span class="pun">~]#</span><span class="pln"> scp </span><span class="pun">/</span><span class="pln">etc</span><span class="pun">/</span><span class="pln">pki</span><span class="pun">/</span><span class="pln">CA</span><span class="pun">/</span><span class="pln">certs</span><span class="pun">/</span><span class="pln">cache</span><span class="pun">.</span><span class="pln">crt root@47</span><span class="pun">.</span><span class="lit">94.82</span><span class="pun">.</span><span class="lit">150</span><span class="pun">:</span><span class="str">/etc/</span><span class="pln">nginx</span><span class="pun">/</span><span class="pln">ssl</span><span class="pun">/</span></code></li><li class="L2"><code><span class="pun">[</span><span class="pln">root@cache ssl</span><span class="pun">]#</span><span class="pln"> rm </span><span class="pun">-</span><span class="pln">f cache</span><span class="pun">.</span><span class="pln">csr</span></code></li><li class="L3"><code><span class="pun">[</span><span class="pln">root@cache ssl</span><span class="pun">]#</span><span class="pln"> ls</span></code></li><li class="L4"><code><span class="pln">cache</span><span class="pun">.</span><span class="pln">crt  cache</span><span class="pun">.</span><span class="pln">key</span></code></li></ol></pre><div class="md-section-divider"></div><h5 data-anchor-id="61db" id="8节点nginx-ssl-配置">8.节点nginx ssl 配置</h5><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="uz43" style=""><ol class="linenums"><li class="L0"><code><span class="pln">    server </span><span class="pun">{</span></code></li><li class="L1"><code><span class="pln">        listen       </span><span class="lit">443</span><span class="pln"> ssl</span><span class="pun">;</span></code></li><li class="L2"><code><span class="pln">        server_name  _</span><span class="pun">;</span></code></li><li class="L3"><code><span class="pln">        root         </span><span class="pun">/</span><span class="pln">usr</span><span class="pun">/</span><span class="pln">share</span><span class="pun">/</span><span class="pln">nginx</span><span class="pun">/</span><span class="pln">html</span><span class="pun">;</span></code></li><li class="L4"><code></code></li><li class="L5"><code><span class="pln">        ssl_certificate </span><span class="str">"/etc/nginx/ssl/cache.crt"</span><span class="pun">;</span></code></li><li class="L6"><code><span class="pln">        ssl_certificate_key </span><span class="str">"/etc/nginx/ssl/cache.key"</span><span class="pun">;</span></code></li></ol></pre><p data-anchor-id="bxkx"><strong>测试https</strong></p><div class="md-section-divider"></div><h5 data-anchor-id="i9pn" id="1curl测试访问https">1.curl测试访问https</h5><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="l0gz" style=""><ol class="linenums"><li class="L0"><code><span class="pun">[</span><span class="pln">root@test_123</span><span class="pun">.</span><span class="lit">206.18</span><span class="pun">.</span><span class="lit">135</span><span class="pln"> </span><span class="pun">~]#</span><span class="pln"> curl </span><span class="pun">-</span><span class="pln">I </span><span class="str">'https://47.94.82.150'</span></code></li><li class="L1"><code><span class="pln">curl</span><span class="pun">:</span><span class="pln"> </span><span class="pun">(</span><span class="lit">60</span><span class="pun">)</span><span class="pln"> </span><span class="typ">Peer</span><span class="str">'s Certificate issuer is not recognized.</span></code></li><li class="L2"><code><span class="str">More details here: http://curl.haxx.se/docs/sslcerts.html</span></code></li><li class="L3"><code></code></li><li class="L4"><code><span class="str">curl performs SSL certificate verification by default, using a "bundle"</span></code></li><li class="L5"><code><span class="str"> of Certificate Authority (CA) public keys (CA certs). If the default</span></code></li><li class="L6"><code><span class="str"> bundle file isn'</span><span class="pln">t adequate</span><span class="pun">,</span><span class="pln"> you can specify an alternate file</span></code></li><li class="L7"><code><span class="pln"> </span><span class="kwd">using</span><span class="pln"> the </span><span class="pun">--</span><span class="pln">cacert option</span><span class="pun">.</span></code></li><li class="L8"><code><span class="typ">If</span><span class="pln"> </span><span class="kwd">this</span><span class="pln"> HTTPS server uses a certificate </span><span class="kwd">signed</span><span class="pln"> </span><span class="kwd">by</span><span class="pln"> a CA represented </span><span class="kwd">in</span></code></li><li class="L9"><code><span class="pln"> the bundle</span><span class="pun">,</span><span class="pln"> the certificate verification probably failed due to a</span></code></li><li class="L0"><code><span class="pln"> problem </span><span class="kwd">with</span><span class="pln"> the certificate </span><span class="pun">(</span><span class="pln">it might be expired</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> the name might</span></code></li><li class="L1"><code><span class="pln"> </span><span class="kwd">not</span><span class="pln"> match the domain name </span><span class="kwd">in</span><span class="pln"> the URL</span><span class="pun">).</span></code></li><li class="L2"><code><span class="typ">If</span><span class="pln"> you</span><span class="str">'d like to turn off curl'</span><span class="pln">s verification of the certificate</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">use</span></code></li><li class="L3"><code><span class="pln"> the </span><span class="pun">-</span><span class="pln">k </span><span class="pun">(</span><span class="kwd">or</span><span class="pln"> </span><span class="pun">--</span><span class="pln">insecure</span><span class="pun">)</span><span class="pln"> option</span><span class="pun">.</span></code></li><li class="L4"><code></code></li><li class="L5"><code><span class="pln"> </span><span class="com">#私有CA签署的证书不被认可，使用curl会检查证书是否合法，如果想跳过这项检查，使用选项 -k 即可</span></code></li><li class="L6"><code></code></li><li class="L7"><code><span class="pun">[</span><span class="pln">root@test_123</span><span class="pun">.</span><span class="lit">206.18</span><span class="pun">.</span><span class="lit">135</span><span class="pln"> </span><span class="pun">~]#</span><span class="pln"> curl </span><span class="pun">-</span><span class="pln">I </span><span class="str">'https://47.94.82.150'</span><span class="pln"> </span><span class="pun">-</span><span class="pln">k</span></code></li><li class="L8"><code><span class="pln">HTTP</span><span class="pun">/</span><span class="lit">1.1</span><span class="pln"> </span><span class="lit">200</span><span class="pln"> OK</span></code></li><li class="L9"><code><span class="typ">Server</span><span class="pun">:</span><span class="pln"> nginx</span><span class="pun">/</span><span class="lit">1.10</span><span class="pun">.</span><span class="lit">2</span></code></li><li class="L0"><code><span class="typ">Date</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Sun</span><span class="pun">,</span><span class="pln"> </span><span class="lit">15</span><span class="pln"> </span><span class="typ">Oct</span><span class="pln"> </span><span class="lit">2017</span><span class="pln"> </span><span class="lit">11</span><span class="pun">:</span><span class="lit">42</span><span class="pun">:</span><span class="lit">22</span><span class="pln"> GMT</span></code></li><li class="L1"><code><span class="typ">Content</span><span class="pun">-</span><span class="typ">Type</span><span class="pun">:</span><span class="pln"> text</span><span class="pun">/</span><span class="pln">html</span></code></li><li class="L2"><code><span class="typ">Content</span><span class="pun">-</span><span class="typ">Length</span><span class="pun">:</span><span class="pln"> </span><span class="lit">3700</span></code></li><li class="L3"><code><span class="typ">Last</span><span class="pun">-</span><span class="typ">Modified</span><span class="pun">:</span><span class="pln"> </span><span class="typ">Mon</span><span class="pun">,</span><span class="pln"> </span><span class="lit">18</span><span class="pln"> </span><span class="typ">Sep</span><span class="pln"> </span><span class="lit">2017</span><span class="pln"> </span><span class="lit">09</span><span class="pun">:</span><span class="lit">18</span><span class="pun">:</span><span class="lit">55</span><span class="pln"> GMT</span></code></li><li class="L4"><code><span class="typ">Connection</span><span class="pun">:</span><span class="pln"> keep</span><span class="pun">-</span><span class="pln">alive</span></code></li><li class="L5"><code><span class="typ">ETag</span><span class="pun">:</span><span class="pln"> </span><span class="str">"59bf8f7f-e74"</span></code></li><li class="L6"><code><span class="typ">Accept</span><span class="pun">-</span><span class="typ">Ranges</span><span class="pun">:</span><span class="pln"> bytes</span></code></li></ol></pre><div class="md-section-divider"></div><h5 data-anchor-id="ds8s" id="2本地浏览器测试">2.本地浏览器测试</h5><p data-anchor-id="ddu4"><img src="https://leanote.com/api/file/getImage?fileId=59e34b6eab6441066c00141e" alt="title"></p></div>
</body>
</html>